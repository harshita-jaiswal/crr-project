{"ast":null,"code":"var _jsxFileName = \"/Users/chitradevi/PSU_Coursework/summer/CRR/project/crr-project/frontend/src/Pages/contribution/contribution.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport image from \"../../img/bill.jpg\";\nimport { URL } from \"../../utils\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Contri() {\n  _s();\n  const [contriData, setContriData] = useState(JSON.parse(localStorage.getItem(\"shares\")));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: `url(${image})`\n    },\n    className: \"contriPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card  shadow-5-strong\",\n      style: {\n        background: \"hsla(0, 0%, 100%, 0.8)\",\n        backdropFilter: \"blur(30px)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Individual Contributions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"contriItem\",\n        children: contriData.map(user => BuildUserShare(user))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          alignSelf: `center`,\n          width: `150px`\n        },\n        className: 'btn btn-info buttonTable',\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          style: {\n            color: 'black',\n            textDecoration: 'none'\n          },\n          to: '/',\n          children: \"Try new Bill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 9\n  }, this);\n}\n_s(Contri, \"NN/jDGyDgRG10ezSmaXLJC0dSxw=\");\n_c = Contri;\nexport const BuildUserShare = user => {\n  _s2();\n  const [showEmail, setShowEmail] = useState(false);\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  let string = `Hi ${user.name}, you purchased ${user.items.join(\", \")}. Your total share is $${user.share.toFixed(2)}`;\n  const sendEmail = () => {\n    let endPoint = \"/clicknsplit/api/send-email\";\n    console.log(string);\n    let data = {\n      email,\n      string\n    };\n    setLoading(true);\n    fetch(`${URL}${endPoint}`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(res => {\n      console.log(res);\n      setLoading(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"personBlock col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), user.items.length ? /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: \"Items bought\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 38\n      }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: user.items.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"sharePrice\",\n      children: [\"Total share - \", /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"$\", parseFloat(user.share.toFixed(2))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), user.items.length && !showEmail ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"sendEmail\",\n      onClick: () => {\n        setShowEmail(true);\n      },\n      children: \"Send Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }, this) : \"\", showEmail && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"emailInput\",\n        placeholder: \"enter email\",\n        onChange: e => {\n          e.preventDefault();\n          setEmail(e.target.value);\n        },\n        value: email,\n        type: \"email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sendEmail\",\n        onClick: sendEmail,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"sendEmail\",\n        style: {\n          width: `60px`\n        },\n        onClick: () => {\n          setShowEmail(false);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s2(BuildUserShare, \"0PdTnedkBhnS6UiJjWzVzwogrMQ=\");\n_c2 = BuildUserShare;\nexport default Contri;\nvar _c, _c2;\n$RefreshReg$(_c, \"Contri\");\n$RefreshReg$(_c2, \"BuildUserShare\");","map":{"version":3,"names":["React","useEffect","useState","image","URL","Link","Contri","contriData","setContriData","JSON","parse","localStorage","getItem","backgroundImage","background","backdropFilter","map","user","BuildUserShare","alignSelf","width","color","textDecoration","showEmail","setShowEmail","email","setEmail","loading","setLoading","string","name","items","join","share","toFixed","sendEmail","endPoint","console","log","data","fetch","method","headers","body","stringify","then","res","json","length","item","parseFloat","e","preventDefault","target","value"],"sources":["/Users/chitradevi/PSU_Coursework/summer/CRR/project/crr-project/frontend/src/Pages/contribution/contribution.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport image from \"../../img/bill.jpg\";\nimport {URL} from \"../../utils\";\nimport {Link} from \"react-router-dom\";\n\nfunction Contri() {\n    const [contriData, setContriData] = useState(\n        JSON.parse(localStorage.getItem(\"shares\"))\n    );\n\n    return (\n        <div style={{\n            backgroundImage: `url(${image})`,\n        }} className={\"contriPage\"}>\n            <div className=\"card  shadow-5-strong\"\n                 style={{\n                     background: \"hsla(0, 0%, 100%, 0.8)\",\n                     backdropFilter: \"blur(30px)\",\n                 }}>\n                <h3>Individual Contributions</h3>\n                <div className={\"contriItem\"}>\n                    {contriData.map((user) => BuildUserShare(user))}\n                </div>\n\n                <button\n                    style={{\n                        alignSelf:`center`,\n                        width:`150px`,\n\n                    }}\n                    className={'btn btn-info buttonTable'}>\n                    <Link style={{color:'black',textDecoration:'none'}} to={'/'}>\n\n                    Try new Bill\n                    </Link>\n                </button>\n            </div>\n\n        </div>\n    );\n}\n\nexport const BuildUserShare = (user) => {\n    const [showEmail, setShowEmail] = useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    let string = `Hi ${user.name}, you purchased ${user.items.join(\n        \", \"\n    )}. Your total share is $${user.share.toFixed(2)}`;\n    const sendEmail = () => {\n\n        let endPoint = \"/clicknsplit/api/send-email\";\n        console.log(string);\n        let data = {\n            email,\n            string,\n        };\n        setLoading(true);\n        fetch(`${URL}${endPoint}`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(data),\n        })\n            .then((res) => res.json())\n            .then((res) => {\n                console.log(res);\n                setLoading(false);\n            });\n    };\n    return (\n        <div className={\"personBlock col\"}>\n            <div>\n                <h4>{user.name}</h4>\n                {user.items.length ? <h6>Items bought</h6> : \"\"}\n                <div>\n                    {user.items.map((item) => (\n                        <li>{item}</li>\n                    ))}\n                </div>\n            </div>\n\n            <p className={\"sharePrice\"}>\n                Total share - <span>${parseFloat(user.share.toFixed(2))}</span>\n            </p>\n            {user.items.length && !showEmail ? (\n                <button\n                    className={\"sendEmail\"}\n                    onClick={() => {\n                        setShowEmail(true);\n                    }}>\n                    Send Email\n                </button>\n            ) : (\n                \"\"\n            )}\n\n            {showEmail && (\n                <div>\n                    <input\n                        className={\"emailInput\"}\n                        placeholder={\"enter email\"}\n                        onChange={(e) => {\n                            e.preventDefault();\n                            setEmail(e.target.value);\n                        }}\n                        value={email}\n                        type=\"email\"\n                    />\n                    <button className={\"sendEmail\"} onClick={sendEmail}>\n                        {\"Send\"}\n                    </button>\n                    <button\n                        className={\"sendEmail\"}\n                        style={{width: `60px`}}\n                        onClick={() => {\n                            setShowEmail(false);\n                        }}>\n                        {\"X\"}\n                    </button>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default Contri;\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAAQC,GAAG,QAAO,aAAa;AAC/B,SAAQC,IAAI,QAAO,kBAAkB;AAAC;AAEtC,SAASC,MAAM,GAAG;EAAA;EACd,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGN,QAAQ,CACxCO,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAC7C;EAED,oBACI;IAAK,KAAK,EAAE;MACRC,eAAe,EAAG,OAAMV,KAAM;IAClC,CAAE;IAAC,SAAS,EAAE,YAAa;IAAA,uBACvB;MAAK,SAAS,EAAC,uBAAuB;MACjC,KAAK,EAAE;QACHW,UAAU,EAAE,wBAAwB;QACpCC,cAAc,EAAE;MACpB,CAAE;MAAA,wBACH;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAiC,eACjC;QAAK,SAAS,EAAE,YAAa;QAAA,UACxBR,UAAU,CAACS,GAAG,CAAEC,IAAI,IAAKC,cAAc,CAACD,IAAI,CAAC;MAAC;QAAA;QAAA;QAAA;MAAA,QAC7C,eAEN;QACI,KAAK,EAAE;UACHE,SAAS,EAAE,QAAO;UAClBC,KAAK,EAAE;QAEX,CAAE;QACF,SAAS,EAAE,0BAA2B;QAAA,uBACtC,QAAC,IAAI;UAAC,KAAK,EAAE;YAACC,KAAK,EAAC,OAAO;YAACC,cAAc,EAAC;UAAM,CAAE;UAAC,EAAE,EAAE,GAAI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAGrD;QAAA;QAAA;QAAA;MAAA,QACF;IAAA;MAAA;MAAA;MAAA;IAAA;EACP;IAAA;IAAA;IAAA;EAAA,QAEJ;AAEd;AAAC,GAnCQhB,MAAM;AAAA,KAANA,MAAM;AAqCf,OAAO,MAAMY,cAAc,GAAID,IAAI,IAAK;EAAA;EACpC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC7C,IAAI2B,MAAM,GAAI,MAAKZ,IAAI,CAACa,IAAK,mBAAkBb,IAAI,CAACc,KAAK,CAACC,IAAI,CAC1D,IAAI,CACN,0BAAyBf,IAAI,CAACgB,KAAK,CAACC,OAAO,CAAC,CAAC,CAAE,EAAC;EAClD,MAAMC,SAAS,GAAG,MAAM;IAEpB,IAAIC,QAAQ,GAAG,6BAA6B;IAC5CC,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;IACnB,IAAIU,IAAI,GAAG;MACPd,KAAK;MACLI;IACJ,CAAC;IACDD,UAAU,CAAC,IAAI,CAAC;IAChBY,KAAK,CAAE,GAAEpC,GAAI,GAAEgC,QAAS,EAAC,EAAE;MACvBK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAElC,IAAI,CAACmC,SAAS,CAACL,IAAI;IAC7B,CAAC,CAAC,CACGM,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC,CACzBF,IAAI,CAAEC,GAAG,IAAK;MACXT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;MAChBlB,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EACV,CAAC;EACD,oBACI;IAAK,SAAS,EAAE,iBAAkB;IAAA,wBAC9B;MAAA,wBACI;QAAA,UAAKX,IAAI,CAACa;MAAI;QAAA;QAAA;QAAA;MAAA,QAAM,EACnBb,IAAI,CAACc,KAAK,CAACiB,MAAM,gBAAG;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAqB,GAAG,EAAE,eAC/C;QAAA,UACK/B,IAAI,CAACc,KAAK,CAACf,GAAG,CAAEiC,IAAI,iBACjB;UAAA,UAAKA;QAAI;UAAA;UAAA;UAAA;QAAA,QACZ;MAAC;QAAA;QAAA;QAAA;MAAA,QACA;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ,eAEN;MAAG,SAAS,EAAE,YAAa;MAAA,0CACT;QAAA,gBAAQC,UAAU,CAACjC,IAAI,CAACgB,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;MAAA;QAAA;QAAA;QAAA;MAAA,QAAQ;IAAA;MAAA;MAAA;MAAA;IAAA,QAC/D,EACHjB,IAAI,CAACc,KAAK,CAACiB,MAAM,IAAI,CAACzB,SAAS,gBAC5B;MACI,SAAS,EAAE,WAAY;MACvB,OAAO,EAAE,MAAM;QACXC,YAAY,CAAC,IAAI,CAAC;MACtB,CAAE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAEG,GAET,EACH,EAEAD,SAAS,iBACN;MAAA,wBACI;QACI,SAAS,EAAE,YAAa;QACxB,WAAW,EAAE,aAAc;QAC3B,QAAQ,EAAG4B,CAAC,IAAK;UACbA,CAAC,CAACC,cAAc,EAAE;UAClB1B,QAAQ,CAACyB,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;QAC5B,CAAE;QACF,KAAK,EAAE7B,KAAM;QACb,IAAI,EAAC;MAAO;QAAA;QAAA;QAAA;MAAA,QACd,eACF;QAAQ,SAAS,EAAE,WAAY;QAAC,OAAO,EAAEU,SAAU;QAAA,UAC9C;MAAM;QAAA;QAAA;QAAA;MAAA,QACF,eACT;QACI,SAAS,EAAE,WAAY;QACvB,KAAK,EAAE;UAACf,KAAK,EAAG;QAAK,CAAE;QACvB,OAAO,EAAE,MAAM;UACXI,YAAY,CAAC,KAAK,CAAC;QACvB,CAAE;QAAA,UACD;MAAG;QAAA;QAAA;QAAA;MAAA,QACC;IAAA;MAAA;MAAA;MAAA;IAAA,QAEhB;EAAA;IAAA;IAAA;IAAA;EAAA,QACC;AAEd,CAAC;AAAC,IAnFWN,cAAc;AAAA,MAAdA,cAAc;AAqF3B,eAAeZ,MAAM;AAAC;AAAA;AAAA"},"metadata":{},"sourceType":"module"}